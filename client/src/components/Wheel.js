/* eslint-disable no-unused-expressions */
import React, { Component } from "react";
import PropTypes from 'prop-types';
import { withStyles } from '@material-ui/core/styles';

const styles = {
  
  blk: {
    display: "inline-block",
    transformOrigin: "50% 50% -139px",
    transformStyle: "preserve-3d",
    top: "25%",    
    width: "80px",
    height: "80px",
    position: "absolute",
  },
  
  container: {
    display: "inline-block",
    transformOrigin: "50% 50% -139px",
    transformStyle: "preserve-3d",
    top: "25%",    
    right: "80px",
    width: "80px",
    height: "156px",
    position: "relative",
    marginLeft: "10px"
  }
}

const emoarr = ["ðŸ˜", "ðŸ˜‚", "ðŸ˜ƒ", "ðŸ˜„", "ðŸ˜…", "ðŸ˜†", "ðŸ˜‰", "ðŸ˜Š", "ðŸ˜‹", "ðŸ˜Œ", "ðŸ˜", "ðŸ˜", "ðŸ˜’", "ðŸ˜“", "ðŸ˜”", "ðŸ˜–", "ðŸ˜˜", "ðŸ˜š", "ðŸ˜œ", "ðŸ˜", "ðŸ˜ž", "ðŸ˜ ", "ðŸ˜¡", "ðŸ˜¢", "ðŸ˜£", "ðŸ˜¤", "ðŸ˜¥", "ðŸ˜¨", "ðŸ˜©", "ðŸ˜ª", "ðŸ˜«", "ðŸ˜­", "ðŸ˜°", "ðŸ˜±", "ðŸ˜²", "ðŸ˜³", "ðŸ˜µ", "ðŸ˜·", "ðŸ˜¸", "ðŸ˜¹", "ðŸ˜º", "ðŸ˜»", "ðŸ˜¼", "ðŸ˜½", "ðŸ˜¾", "ðŸ˜¿", "ðŸ™€", "ðŸ™…", "ðŸ™†", "ðŸ™‡", "ðŸ™ˆ", "ðŸ™‰", "ðŸ™Š", "ðŸ™‹", "ðŸ™Œ", "ðŸ™", "ðŸ™Ž", "ðŸ™", "âœ…", "âœŠ", "âœ‹", "âœ¨", "âŒ", "âŽ", "â“", "â”", "â•", "â—", "âž•", "âž–", "âž—", "âž°", "ðŸš€", "ðŸšƒ", "ðŸš„", "ðŸš…", "ðŸš‡", "ðŸš‰", "ðŸšŒ", "ðŸš", "ðŸš‘", "ðŸš’", "ðŸš“", "ðŸš•", "ðŸš—", "ðŸš™", "ðŸšš", "ðŸš¢", "ðŸš¤", "ðŸš¥", "ðŸš§", "ðŸš¨", "ðŸš©", "ðŸšª", "ðŸš«", "ðŸš¬", "ðŸš­", "ðŸš²", "ðŸš¶", "ðŸš¹", "ðŸšº", "ðŸš»", "ðŸš¼", "ðŸš½", "ðŸš¾", "ðŸ›€", "ðŸ†Ž", "ðŸ†‘", "ðŸ†’", "ðŸ†“", "ðŸ†”", "ðŸ†•", "ðŸ†–", "ðŸ†—", "ðŸ†˜", "ðŸ†™", "ðŸ†š", "ðŸˆ", "ðŸˆš", "ðŸˆ¯", "ðŸˆ²", "ðŸˆ³", "ðŸˆ´", "ðŸˆµ", "ðŸˆ¶", "ðŸˆ¸", "ðŸˆ¹", "ðŸˆº", "ðŸ‰", "ðŸ‰‘", "âŒš", "âŒ›", "â©", "âª", "â«", "â¬", "â°", "â³", "âšª", "âš«", "âš½", "â›„", "â›…", "â›Ž", "â›”", "â›ª", "â›²", "â›³", "â›µ", "â›º", "â›½", "â¬…", "â¬†", "â¬‡", "â¬›", "â¬œ", "â­", "â­•", "ðŸ€„", "ðŸƒ", "ðŸŒ€", "ðŸŒ", "ðŸŒ‚", "ðŸŒƒ", "ðŸŒ„", "ðŸŒ…", "ðŸŒ†", "ðŸŒ‡", "ðŸŒˆ", "ðŸŒ‰", "ðŸŒŠ", "ðŸŒ‹", "ðŸŒŒ", "ðŸŒ", "ðŸŒ‘", "ðŸŒ“", "ðŸŒ”", "ðŸŒ•", "ðŸŒ™", "ðŸŒ›", "ðŸŒŸ", "ðŸŒ ", "ðŸŒ°", "ðŸŒ±", "ðŸŒ´", "ðŸŒµ", "ðŸŒ·", "ðŸŒ¸", "ðŸŒ¹", "ðŸŒº", "ðŸŒ»", "ðŸŒ¼", "ðŸŒ½", "ðŸŒ¾", "ðŸŒ¿", "ðŸ€", "ðŸ", "ðŸ‚", "ðŸƒ", "ðŸ„", "ðŸ…", "ðŸ†", "ðŸ‡", "ðŸˆ", "ðŸ‰", "ðŸŠ", "ðŸŒ", "ðŸ", "ðŸŽ", "ðŸ", "ðŸ‘", "ðŸ’", "ðŸ“", "ðŸ”", "ðŸ•", "ðŸ–", "ðŸ—", "ðŸ˜", "ðŸ™", "ðŸš", "ðŸ›", "ðŸœ", "ðŸ", "ðŸž", "ðŸŸ", "ðŸ ", "ðŸ¡", "ðŸ¢", "ðŸ£", "ðŸ¤", "ðŸ¥", "ðŸ¦", "ðŸ§", "ðŸ¨", "ðŸ©", "ðŸª", "ðŸ«", "ðŸ¬", "ðŸ­", "ðŸ®", "ðŸ¯", "ðŸ°", "ðŸ±", "ðŸ²", "ðŸ³", "ðŸ´", "ðŸµ", "ðŸ¶", "ðŸ·", "ðŸ¸", "ðŸ¹", "ðŸº", "ðŸ»", "ðŸŽ€", "ðŸŽ", "ðŸŽ‚", "ðŸŽƒ", "ðŸŽ„", "ðŸŽ…", "ðŸŽ†", "ðŸŽ‡", "ðŸŽˆ", "ðŸŽ‰", "ðŸŽŠ", "ðŸŽ‹", "ðŸŽŒ", "ðŸŽ", "ðŸŽŽ", "ðŸŽ", "ðŸŽ", "ðŸŽ‘", "ðŸŽ’", "ðŸŽ“", "ðŸŽ ", "ðŸŽ¡", "ðŸŽ¢", "ðŸŽ£", "ðŸŽ¤", "ðŸŽ¥", "ðŸŽ¦", "ðŸŽ§", "ðŸŽ¨", "ðŸŽ©", "ðŸŽª", "ðŸŽ«", "ðŸŽ¬", "ðŸŽ­", "ðŸŽ®", "ðŸŽ¯", "ðŸŽ°", "ðŸŽ±", "ðŸŽ²", "ðŸŽ³", "ðŸŽ´", "ðŸŽµ", "ðŸŽ¶", "ðŸŽ·", "ðŸŽ¸", "ðŸŽ¹", "ðŸŽº", "ðŸŽ»", "ðŸŽ¼", "ðŸŽ½", "ðŸŽ¾", "ðŸŽ¿", "ðŸ€", "ðŸ", "ðŸ‚", "ðŸƒ", "ðŸ„", "ðŸ†", "ðŸˆ", "ðŸŠ", "ðŸ ", "ðŸ¡", "ðŸ¢", "ðŸ£", "ðŸ¥", "ðŸ¦", "ðŸ§", "ðŸ¨", "ðŸ©", "ðŸª", "ðŸ«", "ðŸ¬", "ðŸ­", "ðŸ®", "ðŸ¯", "ðŸ°", "ðŸŒ", "ðŸ", "ðŸŽ", "ðŸ‘", "ðŸ’", "ðŸ”", "ðŸ—", "ðŸ˜", "ðŸ™", "ðŸš", "ðŸ›", "ðŸœ", "ðŸ", "ðŸž", "ðŸŸ", "ðŸ ", "ðŸ¡", "ðŸ¢", "ðŸ£", "ðŸ¤", "ðŸ¥", "ðŸ¦", "ðŸ§", "ðŸ¨", "ðŸ©", "ðŸ«", "ðŸ¬", "ðŸ­", "ðŸ®", "ðŸ¯", "ðŸ°", "ðŸ±", "ðŸ²", "ðŸ³", "ðŸ´", "ðŸµ", "ðŸ¶", "ðŸ·", "ðŸ¸", "ðŸ¹", "ðŸº", "ðŸ»", "ðŸ¼", "ðŸ½", "ðŸ¾", "ðŸ‘€", "ðŸ‘‚", "ðŸ‘ƒ", "ðŸ‘„", "ðŸ‘…", "ðŸ‘†", "ðŸ‘‡", "ðŸ‘ˆ", "ðŸ‘‰", "ðŸ‘Š", "ðŸ‘‹", "ðŸ‘Œ", "ðŸ‘", "ðŸ‘Ž", "ðŸ‘", "ðŸ‘", "ðŸ‘‘", "ðŸ‘’", "ðŸ‘“", "ðŸ‘”", "ðŸ‘•", "ðŸ‘–", "ðŸ‘—", "ðŸ‘˜", "ðŸ‘™", "ðŸ‘š", "ðŸ‘›", "ðŸ‘œ", "ðŸ‘", "ðŸ‘ž", "ðŸ‘Ÿ", "ðŸ‘ ", "ðŸ‘¡", "ðŸ‘¢", "ðŸ‘£", "ðŸ‘¤", "ðŸ‘¦", "ðŸ‘§", "ðŸ‘¨", "ðŸ‘©", "ðŸ‘ª", "ðŸ‘«", "ðŸ‘®", "ðŸ‘¯", "ðŸ‘°", "ðŸ‘±", "ðŸ‘²", "ðŸ‘³", "ðŸ‘´", "ðŸ‘µ", "ðŸ‘¶", "ðŸ‘·", "ðŸ‘¸", "ðŸ‘¹", "ðŸ‘º", "ðŸ‘»", "ðŸ‘¼", "ðŸ‘½", "ðŸ‘¾", "ðŸ‘¿", "ðŸ’€", "ðŸ’", "ðŸ’‚", "ðŸ’ƒ", "ðŸ’„", "ðŸ’…", "ðŸ’†", "ðŸ’‡", "ðŸ’ˆ", "ðŸ’‰", "ðŸ’Š", "ðŸ’‹", "ðŸ’Œ", "ðŸ’", "ðŸ’Ž", "ðŸ’", "ðŸ’", "ðŸ’‘", "ðŸ’’", "ðŸ’“", "ðŸ’”", "ðŸ’•", "ðŸ’–", "ðŸ’—", "ðŸ’˜", "ðŸ’™", "ðŸ’š", "ðŸ’›", "ðŸ’œ", "ðŸ’", "ðŸ’ž", "ðŸ’Ÿ", "ðŸ’ ", "ðŸ’¡", "ðŸ’¢", "ðŸ’£", "ðŸ’¤", "ðŸ’¥", "ðŸ’¦", "ðŸ’§", "ðŸ’¨", "ðŸ’©", "ðŸ’ª", "ðŸ’«", "ðŸ’¬", "ðŸ’®", "ðŸ’¯", "ðŸ’°", "ðŸ’±", "ðŸ’²", "ðŸ’³", "ðŸ’´", "ðŸ’µ", "ðŸ’¸", "ðŸ’¹", "ðŸ’º", "ðŸ’»", "ðŸ’¼", "ðŸ’½", "ðŸ’¾", "ðŸ’¿", "ðŸ“€", "ðŸ“", "ðŸ“‚", "ðŸ“ƒ", "ðŸ“„", "ðŸ“…", "ðŸ“†", "ðŸ“‡", "ðŸ“ˆ", "ðŸ“‰", "ðŸ“Š", "ðŸ“‹", "ðŸ“Œ", "ðŸ“", "ðŸ“Ž", "ðŸ“", "ðŸ“", "ðŸ“‘", "ðŸ“’", "ðŸ““", "ðŸ“”", "ðŸ“•", "ðŸ“–", "ðŸ“—", "ðŸ“˜", "ðŸ“™", "ðŸ“š", "ðŸ“›", "ðŸ“œ", "ðŸ“", "ðŸ“ž", "ðŸ“Ÿ", "ðŸ“ ", "ðŸ“¡", "ðŸ“¢", "ðŸ“£", "ðŸ“¤", "ðŸ“¥", "ðŸ“¦", "ðŸ“§", "ðŸ“¨", "ðŸ“©", "ðŸ“ª", "ðŸ“«", "ðŸ“®", "ðŸ“°", "ðŸ“±", "ðŸ“²", "ðŸ“³", "ðŸ“´", "ðŸ“¶", "ðŸ“·", "ðŸ“¹", "ðŸ“º", "ðŸ“»", "ðŸ“¼", "ðŸ”ƒ", "ðŸ”Š", "ðŸ”‹", "ðŸ”Œ", "ðŸ”", "ðŸ”Ž", "ðŸ”", "ðŸ”", "ðŸ”‘", "ðŸ”’", "ðŸ”“", "ðŸ””", "ðŸ”–", "ðŸ”—", "ðŸ”˜", "ðŸ”™", "ðŸ”š", "ðŸ”›", "ðŸ”œ", "ðŸ”", "ðŸ”ž", "ðŸ”Ÿ", "ðŸ” ", "ðŸ”¡", "ðŸ”¢", "ðŸ”£", "ðŸ”¤", "ðŸ”¥", "ðŸ”¦", "ðŸ”§", "ðŸ”¨", "ðŸ”©", "ðŸ”ª", "ðŸ”«", "ðŸ”®", "ðŸ”¯", "ðŸ”°", "ðŸ”±", "ðŸ”²", "ðŸ”³", "ðŸ”´", "ðŸ”µ", "ðŸ”¶", "ðŸ”·", "ðŸ”¸", "ðŸ”¹", "ðŸ”º", "ðŸ”»", "ðŸ”¼", "ðŸ”½", "ðŸ•", "ðŸ•‘", "ðŸ•’", "ðŸ•“", "ðŸ•”", "ðŸ••", "ðŸ•–", "ðŸ•—", "ðŸ•˜", "ðŸ•™", "ðŸ•š", "ðŸ•›", "ðŸ—»", "ðŸ—¼", "ðŸ—½", "ðŸ—¾", "ðŸ—¿", "ðŸ˜€", "ðŸ˜‡", "ðŸ˜ˆ", "ðŸ˜Ž", "ðŸ˜", "ðŸ˜‘", "ðŸ˜•", "ðŸ˜—", "ðŸ˜™", "ðŸ˜›", "ðŸ˜Ÿ", "ðŸ˜¦", "ðŸ˜§", "ðŸ˜¬", "ðŸ˜®", "ðŸ˜¯", "ðŸ˜´", "ðŸ˜¶", "ðŸš", "ðŸš‚", "ðŸš†", "ðŸšˆ", "ðŸšŠ", "ðŸš", "ðŸšŽ", "ðŸš", "ðŸš”", "ðŸš–", "ðŸš˜", "ðŸš›", "ðŸšœ", "ðŸš", "ðŸšž", "ðŸšŸ", "ðŸš ", "ðŸš¡", "ðŸš£", "ðŸš¦", "ðŸš®", "ðŸš¯", "ðŸš°", "ðŸš±", "ðŸš³", "ðŸš´", "ðŸšµ", "ðŸš·", "ðŸš¸", "ðŸš¿", "ðŸ›", "ðŸ›‚", "ðŸ›ƒ", "ðŸ›„", "ðŸ›…", "ðŸŒ", "ðŸŒŽ", "ðŸŒ", "ðŸŒ’", "ðŸŒ–", "ðŸŒ—", "ðŸŒ˜", "ðŸŒš", "ðŸŒœ", "ðŸŒ", "ðŸŒž", "ðŸŒ²", "ðŸŒ³", "ðŸ‹", "ðŸ", "ðŸ¼", "ðŸ‡", "ðŸ‰", "ðŸ¤", "ðŸ€", "ðŸ", "ðŸ‚", "ðŸƒ", "ðŸ„", "ðŸ…", "ðŸ†", "ðŸ‡", "ðŸˆ", "ðŸ‰", "ðŸŠ", "ðŸ‹", "ðŸ", "ðŸ", "ðŸ“", "ðŸ•", "ðŸ–", "ðŸª", "ðŸ‘¥", "ðŸ‘¬", "ðŸ‘­", "ðŸ’­", "ðŸ’¶", "ðŸ’·", "ðŸ“¬", "ðŸ“­", "ðŸ“¯", "ðŸ“µ", "ðŸ”€", "ðŸ”", "ðŸ”‚", "ðŸ”„", "ðŸ”…", "ðŸ”†", "ðŸ”‡", "ðŸ”‰", "ðŸ”•", "ðŸ”¬", "ðŸ”­", "ðŸ•œ", "ðŸ•", "ðŸ•ž", "ðŸ•Ÿ", "ðŸ• ", "ðŸ•¡", "ðŸ•¢", "ðŸ•£", "ðŸ•¤", "ðŸ•¥", "ðŸ•¦", "ðŸ•§"];

class Wheel extends Component {
  
  constructor(props) {
    super(props);
    this.state = {
      element: [0, 1, 2, 3, 4, 5,6,7,8,9].map(() => {
        return {
          color: `rgba(${this.getRand(1)}, .9)`,
          image: emoarr[Math.floor(Math.random() * emoarr.length)],
      }
      }),
      deg: 0,
    };
  }

  componentDidMount() {
    this.startLoop();
  }

  componentWillUnmount() {
    this.stopLoop();
  }

  startLoop = () => {
    if (!this._frameId) {
      this._frameId = window.requestAnimationFrame(this.loop);
    }
  }

  loop = () => {
    // perform loop work here
    this.theoreticalComponentAnimationFunction();

    // Set up next iteration of the loop
    this.frameId = window.requestAnimationFrame(this.loop);
  }

  stopLoop = () => {
    window.cancelAnimationFrame(this._frameId);
    // Note: no need to worry if the loop has already been cancelled
    // cancelAnimationFrame() won't throw an error
  }

  theoreticalComponentAnimationFunction = () => {
    this.setState({deg : (this.state.deg + this.props.speed / 3) % 360});
  }

  getRand = (seed) => {
    return Math.round(Math.random() * seed * 255) + "," + Math.round(Math.random() * seed * 255) + "," + Math.round(Math.random() * seed * 255);
  }

  render() {
    const {classes} = this.props;

    return(
      <div className={classes.container} style={{
        transform: `rotateY(10deg) rotateX(${this.state.deg}deg)`,
        zIndex: 3 - this.props.speed,}}>
        {this.state.element.map(
          (e, index) => 
            <div id = {index + "face" + this.props.speed} 
              key={this.props.speed + index}
              style={{                
                backgroundColor: e.color,
                transform: `rotateX(${360 / this.state.element.length * index}deg)`,}}
              className={classes.blk}>{e.image}</div>
            )}
      </div>
    );
  };
}

Wheel.propTypes = {
  classes: PropTypes.object.isRequired,
};

export default withStyles(styles)(Wheel);